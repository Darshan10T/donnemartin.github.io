<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Donne Martin</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">




        <meta name="author" content="Donne Martin" />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Donne Martin" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Donne Martin"/>
        <meta property="og:url" content=".."/>
        <meta property="og:description" content="Donne Martin"/>


    <!-- Bootstrap -->
        <link rel="stylesheet" href="../theme/css/bootstrap.min.css" type="text/css"/>

    <link href="../theme/css/pygments/monokai.css" rel="stylesheet">





    <!-- Custom CSS -->
    <link href="../theme/css/agency.css" rel="stylesheet">
    <link href="../theme/css/custom.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../theme/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.../theme/js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head><body id="page-top" class="index">


<!-- Banner -->
<!-- End Banner -->

<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <nav class="navbar navbar-default navbar-fixed-top" style="background-color: #000">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="..">Donne Martin</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="../#likes">Likes</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="../#portfolio">GitHub</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="../#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="../#contact">Contact</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="../archives">Blog</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="http://donnemartin.com/viz/">Viz</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>    <section id="content" class="section-top-padding">
        <article class="article-top-padding">
            <h1>
                <a href="../drafts/system-design-primer-appendix.html"
                   rel="bookmark"
                   title="Permalink to System Design Primer: Appendix">
                    System Design Primer: Appendix
                </a>
            </h1>
            <i><time datetime="2020-05-27T00:00:00-04:00"> Wed 27 May 2020</time></i>
            <div class="entry-content">
                <div class="panel">
                <br/>
                </div>
                <div class="container">
                    <br/>
                    <img class="img-responsive" src="http://i.imgur.com/6SbxQah.png">
                </div>
                <hr class="featurette-divider">
                <h2>Appendix</h2>
<p>You'll sometimes be asked to do 'back-of-the-envelope' estimates.  For example, you might need to determine how long it will take to generate 100 image thumbnails from disk or how much memory a data structure will take.  The <strong>Powers of two table</strong> and <strong>Latency numbers every programmer should know</strong> are handy references.</p>
<h3>Powers of two table</h3>
<div class="highlight"><pre>Power           Exact Value         Approx Value        Bytes
---------------------------------------------------------------
7                             128
8                             256
10                           1024   1 thousand           1 KB
16                         65,536                       64 KB
20                      1,048,576   1 million            1 MB
30                  1,073,741,824   1 billion            1 GB
32                  4,294,967,296                        4 GB
40              1,099,511,627,776   1 trillion           1 TB
</pre></div>


<h4>Source(s) and further reading</h4>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Power_of_two">Powers of two</a></li>
</ul>
<h3>Latency numbers every programmer should know</h3>
<div class="highlight"><pre><span class="gh">Latency Comparison Numbers</span>
<span class="gh">--------------------------</span>
L1 cache reference                           0.5 ns
Branch mispredict                            5   ns
L2 cache reference                           7   ns                      14x L1 cache
Mutex lock/unlock                           25   ns
Main memory reference                      100   ns                      20x L2 cache, 200x L1 cache
Compress 1K bytes with Zippy            10,000   ns       10 us
Send 1 KB bytes over 1 Gbps network     10,000   ns       10 us
Read 4 KB randomly from SSD*           150,000   ns      150 us          ~1GB/sec SSD
Read 1 MB sequentially from memory     250,000   ns      250 us
Round trip within same datacenter      500,000   ns      500 us
Read 1 MB sequentially from SSD*     1,000,000   ns    1,000 us    1 ms  ~1GB/sec SSD, 4X memory
Disk seek                           10,000,000   ns   10,000 us   10 ms  20x datacenter roundtrip
Read 1 MB sequentially from 1 Gbps  10,000,000   ns   10,000 us   10 ms  40x memory, 10X SSD
Read 1 MB sequentially from disk    30,000,000   ns   30,000 us   30 ms 120x memory, 30X SSD
Send packet CA-&gt;Netherlands-&gt;CA    150,000,000   ns  150,000 us  150 ms

<span class="gh">Notes</span>
<span class="gh">-----</span>
1 ns = 10^-9 seconds
1 us = 10^-6 seconds = 1,000 ns
1 ms = 10^-3 seconds = 1,000 us = 1,000,000 ns
</pre></div>


<p>Handy metrics based on numbers above:</p>
<ul>
<li>Read sequentially from disk at 30 MB/s</li>
<li>Read sequentially from 1 Gbps Ethernet at 100 MB/s</li>
<li>Read sequentially from SSD at 1 GB/s</li>
<li>Read sequentially from main memory at 4 GB/s</li>
<li>6-7 world-wide round trips per second</li>
<li>2,000 round trips per second within a data center</li>
</ul>
<h4>Latency numbers visualized</h4>
<p><img alt="" src="https://camo.githubusercontent.com/77f72259e1eb58596b564d1ad823af1853bc60a3/687474703a2f2f692e696d6775722e636f6d2f6b307431652e706e67" /></p>
<h4>Source(s) and further reading</h4>
<ul>
<li><a href="https://gist.github.com/jboner/2841832">Latency numbers every programmer should know - 1</a></li>
<li><a href="https://gist.github.com/hellerbarde/2843375">Latency numbers every programmer should know - 2</a></li>
<li><a href="http://www.cs.cornell.edu/projects/ladis2009/talks/dean-keynote-ladis2009.pdf">Designs, lessons, and advice from building large distributed systems</a></li>
<li><a href="https://static.googleusercontent.com/media/research.google.com/en//people/jeff/stanford-295-talk.pdf">Software Engineering Advice from Building Large-Scale Distributed Systems</a></li>
</ul>
<h3>Additional system design interview questions</h3>
<blockquote>
<p>Common system design interview questions, with links to resources on how to solve each.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Question</th>
<th>Reference(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Design a file sync service like Dropbox</td>
<td><a href="https://www.youtube.com/watch?v=PE4gwstWhmc">youtube.com</a></td>
</tr>
<tr>
<td>Design a search engine like Google</td>
<td><a href="http://queue.acm.org/detail.cfm?id=988407">queue.acm.org</a><br/><a href="http://programmers.stackexchange.com/questions/38324/interview-question-how-would-you-implement-google-search">stackexchange.com</a><br/><a href="http://www.ardendertat.com/2012/01/11/implementing-search-engines/">ardendertat.com</a><br/><a href="http://infolab.stanford.edu/~backrub/google.html">stanford.edu</a></td>
</tr>
<tr>
<td>Design a scalable web crawler like Google</td>
<td><a href="https://www.quora.com/How-can-I-build-a-web-crawler-from-scratch">quora.com</a></td>
</tr>
<tr>
<td>Design Google docs</td>
<td><a href="https://code.google.com/p/google-mobwrite/">code.google.com</a><br/><a href="https://neil.fraser.name/writing/sync/">neil.fraser.name</a></td>
</tr>
<tr>
<td>Design a key-value store like Redis</td>
<td><a href="http://www.slideshare.net/dvirsky/introduction-to-redis">slideshare.net</a></td>
</tr>
<tr>
<td>Design a cache system like Memcached</td>
<td><a href="http://www.slideshare.net/oemebamo/introduction-to-memcached">slideshare.net</a></td>
</tr>
<tr>
<td>Design a recommendation system like Amazon's</td>
<td><a href="https://web.archive.org/web/20170406065247/http://tech.hulu.com/blog/2011/09/19/recommendation-system.html">hulu.com</a><br/><a href="http://ijcai13.org/files/tutorial_slides/td3.pdf">ijcai13.org</a></td>
</tr>
<tr>
<td>Design a tinyurl system like Bitly</td>
<td><a href="http://n00tc0d3r.blogspot.com/">n00tc0d3r.blogspot.com</a></td>
</tr>
<tr>
<td>Design a chat app like WhatsApp</td>
<td><a href="http://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html">highscalability.com</a></td>
</tr>
<tr>
<td>Design a picture sharing system like Instagram</td>
<td><a href="http://highscalability.com/flickr-architecture">highscalability.com</a><br/><a href="http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html">highscalability.com</a></td>
</tr>
<tr>
<td>Design the Facebook news feed function</td>
<td><a href="http://www.quora.com/What-are-best-practices-for-building-something-like-a-News-Feed">quora.com</a><br/><a href="http://www.quora.com/Activity-Streams/What-are-the-scaling-issues-to-keep-in-mind-while-developing-a-social-network-feed">quora.com</a><br/><a href="http://www.slideshare.net/danmckinley/etsy-activity-feeds-architecture">slideshare.net</a></td>
</tr>
<tr>
<td>Design the Facebook timeline function</td>
<td><a href="https://www.facebook.com/note.php?note_id=10150468255628920">facebook.com</a><br/><a href="http://highscalability.com/blog/2012/1/23/facebook-timeline-brought-to-you-by-the-power-of-denormaliza.html">highscalability.com</a></td>
</tr>
<tr>
<td>Design the Facebook chat function</td>
<td><a href="http://www.erlang-factory.com/upload/presentations/31/EugeneLetuchy-ErlangatFacebook.pdf">erlang-factory.com</a><br/><a href="https://www.facebook.com/note.php?note_id=14218138919&amp;id=9445547199&amp;index=0">facebook.com</a></td>
</tr>
<tr>
<td>Design a graph search function like Facebook's</td>
<td><a href="https://www.facebook.com/notes/facebook-engineering/under-the-hood-building-out-the-infrastructure-for-graph-search/10151347573598920">facebook.com</a><br/><a href="https://www.facebook.com/notes/facebook-engineering/under-the-hood-indexing-and-ranking-in-graph-search/10151361720763920">facebook.com</a><br/><a href="https://www.facebook.com/notes/facebook-engineering/under-the-hood-the-natural-language-interface-of-graph-search/10151432733048920">facebook.com</a></td>
</tr>
<tr>
<td>Design a content delivery network like CloudFlare</td>
<td><a href="https://figshare.com/articles/Globally_distributed_content_delivery/6605972">figshare.com</a></td>
</tr>
<tr>
<td>Design a trending topic system like Twitter's</td>
<td><a href="http://www.michael-noll.com/blog/2013/01/18/implementing-real-time-trending-topics-in-storm/">michael-noll.com</a><br/><a href="http://snikolov.wordpress.com/2012/11/14/early-detection-of-twitter-trends/">snikolov .wordpress.com</a></td>
</tr>
<tr>
<td>Design a random ID generation system</td>
<td><a href="https://blog.twitter.com/2010/announcing-snowflake">blog.twitter.com</a><br/><a href="https://github.com/twitter/snowflake/">github.com</a></td>
</tr>
<tr>
<td>Return the top k requests during a time interval</td>
<td><a href="https://www.cs.ucsb.edu/sites/cs.ucsb.edu/files/docs/reports/2005-23.pdf">cs.ucsb.edu</a><br/><a href="http://davis.wpi.edu/xmdv/docs/EDBT11-diyang.pdf">wpi.edu</a></td>
</tr>
<tr>
<td>Design a system that serves data from multiple data centers</td>
<td><a href="http://highscalability.com/blog/2009/8/24/how-google-serves-data-from-multiple-datacenters.html">highscalability.com</a></td>
</tr>
<tr>
<td>Design an online multiplayer card game</td>
<td><a href="http://www.indieflashblog.com/how-to-create-an-asynchronous-multiplayer-game.html">indieflashblog.com</a><br/><a href="http://buildnewgames.com/real-time-multiplayer/">buildnewgames.com</a></td>
</tr>
<tr>
<td>Design a garbage collection system</td>
<td><a href="http://journal.stuffwithstuff.com/2013/12/08/babys-first-garbage-collector/">stuffwithstuff.com</a><br/><a href="http://courses.cs.washington.edu/courses/csep521/07wi/prj/rick.pdf">washington.edu</a></td>
</tr>
<tr>
<td>Design an API rate limiter</td>
<td><a href="https://stripe.com/blog/rate-limiters">https://stripe.com/blog/</a></td>
</tr>
<tr>
<td>Add a system design question</td>
<td><a href="#contributing">Contribute</a></td>
</tr>
</tbody>
</table>
            </div>
            <hr class="featurette-divider">
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-left">
                    <span class="copyright">Copyright &copy; Donne Martin 2014-Present</span>
                </div>
            </div>
        </div>
    </footer>
<script src="../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../theme/js/respond.min.js"></script>


<!-- Plugin JavaScript -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
<script src="../theme/js/classie.js"></script>
<script src="../theme/js/cbpAnimatedHeader.js"></script>

<!-- Custom Theme JavaScript -->
<script src="../theme/js/agency.js"></script>

<!-- Google Analytics Universal -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54747412-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- End Google Analytics Universal Code -->
</body>
</html>